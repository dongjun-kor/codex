# SPA 라우팅 리다이렉트 역할 제한 버그 수정

## 문제 상황
기존 `netlify.toml` 파일의 catch-all 리다이렉트 설정에서 `conditions = {Role = ["admin", "editor"]}` 조건이 잘못 적용되어 일반 사용자가 SPA 애플리케이션에 접근할 수 없는 문제가 발생했습니다.

## 문제의 원인
- SPA/PWA의 클라이언트 사이드 라우팅을 위한 `/* → /index.html` 리다이렉트가 역할 기반 접근 제어로 제한됨
- 이로 인해 `admin` 또는 `editor` 역할이 없는 일반 사용자는 애플리케이션에 접근할 수 없음
- SPA의 모든 라우트는 `/index.html`을 통해 처리되어야 하므로, 이 리다이렉트는 무조건적이어야 함

## 수정 내용

### 수정 전 (문제 있는 설정)
```toml
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  conditions = {Role = ["admin", "editor"]}  # ❌ 문제: 역할 제한
```

### 수정 후 (올바른 설정)
```toml
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  # ✅ 수정: 조건부 제한 제거로 모든 사용자 접근 허용
```

## 추가 권장사항

1. **역할 기반 접근 제어는 특정 경로에만 적용**
   ```toml
   # 관리자 전용 경로
   [[redirects]]
     from = "/admin/*"
     to = "/admin-login.html"
     status = 302
     conditions = {Role = ["admin"]}
   ```

2. **보안 헤더 추가**
   - XSS 보호, 콘텐츠 타입 스니핑 방지 등의 보안 헤더 설정

3. **환경별 빌드 설정**
   - Production 환경에 맞는 빌드 명령어 및 환경 변수 설정

## 결과
- ✅ 모든 사용자가 SPA 애플리케이션에 정상적으로 접근 가능
- ✅ 클라이언트 사이드 라우팅이 올바르게 작동
- ✅ 필요한 경우 특정 경로에만 역할 기반 접근 제어 적용 가능
- ✅ 보안 헤더를 통한 추가 보안 강화

## 테스트 방법
1. 일반 사용자로 애플리케이션 루트 경로 접근 확인
2. SPA 내부 라우트 탐색이 정상적으로 작동하는지 확인
3. 새로고침 시에도 404 오류 없이 정상 작동하는지 확인